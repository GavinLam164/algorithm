# 桶排序 *

## 实现思路

桶排序与前几个基于比较/交换的排序不同，是根据**计数思想**排序的。

桶排序可以认为给数字安排了一些下标座位，由于数组下标本身就是有序的，将数组中元素全部放到元素值对应的下标座位中，若存在重复元素，则不断+1，表示该下标值出现的次数。

> 例如：bucket[1] = 5，bucket[2] = 3，表示元素值1出现了5次，元素值2出现了3次。

最后从数组中遍历下标，依次取出，完成排序过程。

需注意的是，数值的取值范围不能过大，不然将导致出现一大批“空座位”，过度占用内存。

其次是，由于数组下标从0开始，所以同排序需保证排序数组中的元素不能出现负数，否则以负数下标访问数组则会出现越界异常。


## 动画(一图胜千言)

> 默认数据是随机产生的，可自行输入数据或再次点击随机生成，记得点击确认。
>
> 动画模式有单步调试/自动播放两种模式。
>
> 单步调试：需不停的点击"下一步"完成执行流程。
>
> 元素值不建议过大，会影响动画展示。

<br>
<bucket-sort />

## 代码

```java
public class BucketSort {
    public void sort(int[] arr) {
        int max = Integer.MIN_VALUE;
        for(int v: arr) { // 获取数值范围
            max = Math.max(max, v);
        }
        // 准备桶用于计数
        int[] bucket = new int[max + 1];
        for(int v: arr) {
            bucket[v]++;
        }
        int index = 0;
        for(int i = 0; i < bucket.length; i++) {
            while(bucket[i] > 0) { // 取出计数结果, i为出现的元素值，bucket[i]为i出现的次数
                arr[index++] = i;
                bucket[i]--;
            }
        }
    }
}
```